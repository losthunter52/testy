var startDate,exitPageStatus,_Debug=!1,_NoError=0,_GeneralException=101,_ServerBusy=102,_InvalidArgumentError=201,_ElementCannotHaveChildren=202,_ElementIsNotAnArray=203,_NotInitialized=301,_NotImplementedError=401,_InvalidSetValue=402,_ElementIsReadOnly=403,_ElementIsWriteOnly=404,_IncorrectDataType=405,apiHandle=null,API=null,findAPITries=0;function doLMSInitialize(){var e=getAPIHandle();if(null==e)return alert("Unable to locate the LMS's API Implementation.\nLMSInitialize was not successful."),"false";var t=e.LMSInitialize("");return"true"!=t.toString()&&ErrorHandler(),t.toString()}function doLMSFinish(){var e=getAPIHandle();if(null==e)return alert("Unable to locate the LMS's API Implementation.\nLMSFinish was not successful."),"false";var t=e.LMSFinish("");return"true"!=t.toString()&&ErrorHandler(),t.toString()}function doLMSGetValue(e){var t=getAPIHandle();if(null==t)return alert("Unable to locate the LMS's API Implementation.\nLMSGetValue was not successful."),"";var n=t.LMSGetValue(e),r=t.LMSGetLastError().toString();if(r!=_NoError){var a=t.LMSGetErrorString(r);return alert("LMSGetValue("+e+") failed. \n"+a),""}return n.toString()}function doLMSSetValue(e,t){var n=getAPIHandle();null!=n?"true"!=n.LMSSetValue(e,t).toString()&&ErrorHandler():alert("Unable to locate the LMS's API Implementation.\nLMSSetValue was not successful.")}function doLMSCommit(){var e=getAPIHandle();if(null==e)return alert("Unable to locate the LMS's API Implementation.\nLMSCommit was not successful."),"false";var t=e.LMSCommit("");return"true"!=t&&ErrorHandler(),t.toString()}function doLMSGetLastError(){var e=getAPIHandle();return null==e?(alert("Unable to locate the LMS's API Implementation.\nLMSGetLastError was not successful."),_GeneralError):e.LMSGetLastError().toString()}function doLMSGetErrorString(e){var t=getAPIHandle();return null==t&&alert("Unable to locate the LMS's API Implementation.\nLMSGetErrorString was not successful."),t.LMSGetErrorString(e).toString()}function doLMSGetDiagnostic(e){var t=getAPIHandle();return null==t&&alert("Unable to locate the LMS's API Implementation.\nLMSGetDiagnostic was not successful."),t.LMSGetDiagnostic(e).toString()}function LMSIsInitialized(){var e=getAPIHandle();return null==e?(alert("Unable to locate the LMS's API Implementation.\nLMSIsInitialized() failed."),!1):(e.LMSGetValue("cmi.core.student_name"),e.LMSGetLastError().toString()!=_NotInitialized)}function ErrorHandler(){var e=getAPIHandle();if(null!=e){var t=e.LMSGetLastError().toString();if(t!=_NoError){var n=e.LMSGetErrorString(t);1==_Debug&&(n+="\n",n+=e.LMSGetDiagnostic(null)),alert(n)}return t}alert("Unable to locate the LMS's API Implementation.\nCannot determine LMS error code.")}function getAPIHandle(){return null==apiHandle&&(apiHandle=getAPI()),apiHandle}function findAPI(e){for(;null==e.API&&null!=e.parent&&e.parent!=e;){if(++findAPITries>7)return alert("Error finding API -- too deeply nested."),null;e=e.parent}return e.API}function getAPI(){var e=findAPI(window);return null==e&&null!=window.opener&&void 0!==window.opener&&(e=findAPI(window.opener)),null==e&&alert("Unable to find an API adapter"),e}function loadPage(){doLMSInitialize(),"not attempted"==doLMSGetValue("cmi.core.lesson_status")&&doLMSSetValue("cmi.core.lesson_status","incomplete"),exitPageStatus=!1,startTimer()}function startTimer(){startDate=(new Date).getTime()}function computeTime(){if(0!=startDate)var e=convertTotalSeconds(((new Date).getTime()-startDate)/1e3);else e="00:00:00.0";doLMSSetValue("cmi.core.session_time",e)}function doBack(){doLMSSetValue("cmi.core.exit","suspend"),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function doContinue(e){doLMSSetValue("cmi.core.exit","");var t=doLMSGetValue("cmi.core.lesson_mode");"review"!=t&&"browse"!=t&&doLMSSetValue("cmi.core.lesson_status",e),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function doQuit(){doLMSSetValue("cmi.core.exit","logout"),computeTime(),exitPageStatus=!0,doLMSCommit(),doLMSFinish()}function unloadPage(){1!=exitPageStatus&&doQuit()}function convertTotalSeconds(e){var t=e%60,n=(e-=t)%3600;e-=n,t=Math.round(100*t)/100;var r=new String(t),a=r,o="";if(-1!=r.indexOf(".")&&(a=r.substring(0,r.indexOf(".")),o=r.substring(r.indexOf(".")+1,r.length)),a.length<2&&(a="0"+a),r=a,o.length&&(r=r+"."+o),e%3600!=0)var i=0;else i=e/3600;if(n%60!=0)var l=0;else l=n/60;return new String(i).length<2&&(i="0"+i),new String(l).length<2&&(l="0"+l),i+":"+l+":"+r}